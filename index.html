<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Select Plugin</title>
    <script src="require-module.js"></script>
    <script src="dom4.js"></script>
    <script src="selectPlugin.js"></script>

    <style>
        .hc-select-wrapper {position: relative; display: inline-block; min-width: 200px;}
        .hc-select-wrapper input {position: absolute; transform: rotateY(90deg); left: 300px;}
        .hc-select-wrapper select {/*position: relative;left: 300px;*/display: none;}
        .hc-select-wrapper .hc-select-current { border: 1px solid gray; padding-left: 2px; min-height: 20px}
        .hc-select-wrapper .hc-select-focus {outline: 2px solid #79C5F1;}
        .hc-select-wrapper .hc-select-hover {background-color: #79C5F1;}
        .hc-select-wrapper .hc-select-disabled, .hc-select-wrapper .hc-select-disabled * {color: gray}
        .hc-select-wrapper .hc-select-option {padding-left: 2px; min-height: 20px}
        .hc-select-wrapper .hc-select-group {padding-left: 2px;}
        .hc-select-wrapper .hc-select-group li {padding-left: 10px;}
        .hc-select-wrapper .hc-select-closed {display: none;}

        .hc-select-wrapper .hc-select-list {
            width: 100%; 
            background-color: white; 
            border: 1px solid #79C5F1;
            list-style: none;
            margin: 0;
            padding: 0;
            position: absolute;
            box-sizing: border-box;
        }

        .hc-select-wrapper .hc-select-label {
            margin: 0;
            font-weight: 700;
        }
        select:invalid + label {color: red;}


    </style>
</head>
<body>
    <p>Usual select</p>
    <select name="test" id=test data-id="1" style="vertical-align: top" required>
        <option value=""></option>
        <option value="1" >Array</option>
        <option value="2" disabled>Disabled</option>
        <option value="3">Argument</option>
        <option value="4">Number</option>
        <option value="5" disabled>Option 5 - Disabled</option>
    </select>
    <label for="test">Label</label>
    <br><br><br><br><br><br>
    <p>With optgroup</p>
    <select name="test2" id=test2 data-id="2" style="vertical-align: top">
        <optgroup label="Group A" id='group' disabled>
            <option value="1" id="opt">Option 1</option>
            <option value="2">Option 2</option>
        </optgroup>
        <option value="2.5">Option 2.5</option> 
        <optgroup label="Group B" disabled>
            <option value="3">Option 3</option>
            <option value="4">Option 4</option>
            <option value="5">Option 5</option>
        </optgroup>
        <optgroup label="Group C">
            <option value="3" id=opt2>Option 6</option>
            <option value="4">Option 7</option>
            <option value="5">Option 8</option>
        </optgroup>
    </select>
    <br><br>
    <button onclick="testA()">Add Opt</button>
    <button onclick="testB()">Add OptGroup</button>
    <button onclick="testC()">Clear Select</button>
    <script>
        var selectPlugin = require('selectplugin');
        [ ].slice
        .call(document.querySelectorAll('select'))
        .forEach(function($select)
        {
            selectPlugin($select, {})
        })
    </script>  
    <script>

        var i = 0;
        function testA() {
            var a = document.createElement('option')
            a.textContent = 'Option ' + i
            test2.append(a)
            i++
        }
        function testB() {
            var a = document.createElement('optgroup')
            a.label = 'New Optgroup '+i
            a.id = i
            var b = document.createElement('option')
            b.textContent = 'New Option '+i+'a'
            a.append(b)
            test2.append(a)
            i++
        }
        function testC() {
            test2.innerHTML = ''
        }
    </script>
</body>
</html>