<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Select Plugin</title>
    <script src="require-module.js"></script>
    <script src="dom4.js"></script>
    <script src="selectPlugin.js"></script>

    <link rel="stylesheet" href="hcselect.css">
</head>
<body>
    <div style="height: 300px; background: green"></div>
    <p>Usual select</p>
    <form action="#">
        <select name="test" id=test required>
            <option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>
        <label for="test">Label</label>
        <input type="text" name="log">
        <input type="submit">
    </form>
    <!-- <br><br><br><br><br><br>
    <p>With optgroup</p>
    <select name="test2" id=test2 data-id="2" style="vertical-align: top">
        <optgroup label="A" id='group' disabled>
            <option value="1" id="opt">1</option>
            <option value="2">2</option>
        </optgroup>
        <option value="2.5">2.5</option>
        <optgroup label="B" disabled>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </optgroup>
        <optgroup label="C">
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
        </optgroup>
    </select>
    <br><br>
    <button onclick="testA()">Add Opt</button>
    <button onclick="testB()">Add OptGroup</button>
    <button onclick="testC()">Clear Select</button> -->
    <script>
        
        var selectPlugin = require('selectplugin');
        [ ].slice
        .call(document.querySelectorAll('select'))
        .forEach(function($select)
        {
            var settings = 
            {
                // template: function($option)
                // {
                //     var src = $option.dataset.src
                //     var html = '<img src="' + src + '">' + $option.textContent
                //     return html
                // }
            }
            selectPlugin($select, settings)
        })
    </script>  
    <script>

        var i = 0;
        function testA() {
            var a = document.createElement('option')
            a.textContent = + i
            test2.append(a)
            i++
        }
        function testB() {
            var a = document.createElement('optgroup')
            a.label = 'New '+i
            a.id = i
            var b = document.createElement('option')
            b.textContent = i+'a'
            a.append(b)
            test2.append(a)
            i++
        }
        function testC() {
            test2.innerHTML = ''
        }
    </script>
</body>
</html>